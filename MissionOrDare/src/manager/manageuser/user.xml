<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  	
<mapper namespace="Mission">

	<select id="getCount" resultType="int">
		select count(*) from mod_users
	</select>
	<select id="getArticles" parameterType="java.util.Map" resultType="Dtos.UsersDto">
		select user_nickname,user_email,interesting1_large_category,interesting2_large_category
		,interesting3_large_category,interesting4_large_category,sign_up_date,r
		from (select user_nickname,user_email,interesting1_large_category,interesting2_large_category
		,interesting3_large_category,interesting4_large_category,sign_up_date,rownum r from 
		(select user_nickname,user_email,interesting1_large_category
		,interesting2_large_category,interesting3_large_category,interesting4_large_category,sign_up_date from mod_users order by sign_up_date desc)
		order by sign_up_date desc) where r &gt;= #{start} and r &lt;= #{end}
	</select>
	<select id="getArticle" parameterType="String" resultType="Dtos.UsersDto">
		select * from mod_users where user_nickname=#{user_nickname}
	</select>
	<delete id="deleteArticle" parameterType="String">
		delete from mod_users where user_nickname=#{user_nickname}
	</delete>
	<select id="findArticles" parameterType="java.util.Map" resultType="Dtos.UsersDto">
		select user_nickname,user_email,interesting1_large_category,interesting2_large_category
		,interesting3_large_category,interesting4_large_category,sign_up_date,r
		from (select user_nickname,user_email,interesting1_large_category,interesting2_large_category
		,interesting3_large_category,interesting4_large_category,sign_up_date,rownum r from 
		(select user_nickname,user_email,interesting1_large_category
		,interesting2_large_category,interesting3_large_category,interesting4_large_category,sign_up_date from mod_users order by sign_up_date desc)
		order by sign_up_date desc) where r &gt;= #{start} and r &lt;= #{end} and user_nickname like '%'||#{searchUser}||'%' order by sign_up_date desc
	</select>
	
	
	
</mapper>